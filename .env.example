# ============================================
# Projectdes Academy - Environment Configuration
# ============================================
# Copy this file to .env and update with your values
# NEVER commit .env to version control

# ============================================
# APPLICATION
# ============================================
NODE_ENV=development
PORT=3000
API_PORT=4000
APP_URL=http://localhost:3000
API_URL=http://localhost:4000

# ============================================
# DATABASE
# ============================================
# PostgreSQL Connection (Docker default)
DATABASE_URL=postgresql://projectdes:localpassword@localhost:5432/projectdes_dev

# Database credentials (used by Docker)
DB_USER=projectdes
DB_PASSWORD=localpassword
DB_NAME=projectdes_dev
DB_HOST=localhost
DB_PORT=5432

# Database pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ============================================
# REDIS
# ============================================
# Redis Connection (Docker default)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis for sessions
SESSION_REDIS_DB=1

# ============================================
# AUTHENTICATION
# ============================================
# JWT Secrets (generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this
JWT_ACCESS_TOKEN_EXPIRY=15m
JWT_REFRESH_TOKEN_EXPIRY=7d

# Bcrypt rounds
BCRYPT_ROUNDS=12

# Session configuration
SESSION_SECRET=your-session-secret-change-this-in-production
SESSION_NAME=projectdes.sid
SESSION_MAX_AGE=86400000

# ============================================
# STRIPE PAYMENT GATEWAY
# ============================================
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs (create in Stripe Dashboard)
STRIPE_PRICE_AI_TRANSFORMATION=price_...
STRIPE_PRICE_NOCODE_SITES=price_...
STRIPE_PRICE_AI_VIDEO=price_...

# ============================================
# PAYPAL PAYMENT GATEWAY
# ============================================
# Get from: https://developer.paypal.com/developer/applications
PAYPAL_CLIENT_ID=...
PAYPAL_CLIENT_SECRET=...
PAYPAL_MODE=sandbox
PAYPAL_WEBHOOK_ID=...

# ============================================
# EMAIL SERVICE
# ============================================
# SendGrid (recommended)
SENDGRID_API_KEY=SG....
SENDGRID_FROM_EMAIL=noreply@projectdes.ai
SENDGRID_FROM_NAME=Projectdes Academy

# Alternative: SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email settings
EMAIL_FROM=noreply@projectdes.ai
EMAIL_REPLY_TO=support@projectdes.ai

# ============================================
# GOOGLE SERVICES
# ============================================
# Google Analytics
GA_MEASUREMENT_ID=G-...

# Google Tag Manager
GTM_ID=GTM-...

# Google OAuth (optional)
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...

# ============================================
# FILE STORAGE
# ============================================
# Local storage (development)
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# AWS S3 (production - optional)
AWS_ACCESS_KEY_ID=...
AWS_SECRET_ACCESS_KEY=...
AWS_REGION=us-east-1
AWS_S3_BUCKET=projectdes-uploads

# Cloudinary (alternative - optional)
CLOUDINARY_CLOUD_NAME=...
CLOUDINARY_API_KEY=...
CLOUDINARY_API_SECRET=...

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_TRUST_PROXY=true

# ============================================
# SECURITY
# ============================================
# CORS settings
CORS_ORIGIN=http://localhost:3000,http://localhost:4000
CORS_CREDENTIALS=true

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=/api/csp-report

# Security headers
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# ============================================
# MONITORING & LOGGING
# ============================================
# Sentry (error tracking)
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Log levels: error, warn, info, debug
LOG_LEVEL=info
LOG_FORMAT=json

# PM2 (process manager)
PM2_APP_NAME=projectdes-academy
PM2_INSTANCES=2

# ============================================
# AI SERVICES (Phase 2)
# ============================================
# OpenAI
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-...
ANTHROPIC_MODEL=claude-3-haiku-20240307

# AI Rate Limiting
AI_RATE_LIMIT_RPM=60
AI_MAX_TOKENS_PER_REQUEST=2000
AI_GUARDRAILS=strict

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_REGISTRATION=true
FEATURE_PAYMENT=true
FEATURE_AI_CHAT=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_COURSE_PREVIEW=true

# ============================================
# DEVELOPMENT TOOLS
# ============================================
# Docker admin tools (only in development)
PGADMIN_EMAIL=admin@projectdes.ai
PGADMIN_PASSWORD=admin
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin

# Prisma
DATABASE_LOGGING=true

# Hot reload
NEXT_TELEMETRY_DISABLED=1
WATCHPACK_POLLING=true

# ============================================
# PRODUCTION SERVER (for deployment)
# ============================================
# Server details (update when deploying)
SERVER_HOST=your-server-ip
SERVER_USER=ubuntu
SERVER_SSH_KEY_PATH=~/.ssh/projectdes-key.pem

# Nginx
NGINX_DOMAIN=projectdes.ai
NGINX_SSL_CERT=/etc/letsencrypt/live/projectdes.ai/fullchain.pem
NGINX_SSL_KEY=/etc/letsencrypt/live/projectdes.ai/privkey.pem

# ============================================
# NOTES
# ============================================
# 1. Generate secrets with: openssl rand -base64 32
# 2. Never use default values in production
# 3. Keep production values in secure password manager
# 4. Use different values for each environment
# 5. Rotate secrets regularly